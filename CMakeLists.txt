cmake_minimum_required(VERSION 3.5)
project(softloq-unicode-project VERSION 1.0.0 LANGUAGES CXX)
option(SOFTLOQ_UNICODE_BUILD_SHARED "Generate Shared Library" OFF)

# Require C++
set(CMAKE_CXX_EXTENSIONS OFF)
set(CMAKE_CXX_STANDARD_REQUIRED)

# Library
if(SOFTLOQ_UNICODE_BUILD_SHARED)
    set(SOFTLOQ_UNICODE_LIBRARY_TYPE SHARED)
    list(APPEND SOFTLOQ_UNICODE_PRIVATE_DEFINITIONS SOFTLOQ_UNICODE_BUILD_API)
    list(APPEND SOFTLOQ_UNICODE_PUBLIC_DEFINITIONS SOFTLOQ_UNICODE_USE_API)
else()
    set(SOFTLOQ_UNICODE_LIBRARY_TYPE STATIC)
endif()

file(GLOB_RECURSE SOFTLOQ_UNICODE_CXX_FILES src/**.cpp)
add_library(softloq-unicode ${SOFTLOQ_UNICODE_LIBRARY_TYPE} ${SOFTLOQ_UNICODE_CXX_FILES})
set_target_properties(softloq-unicode PROPERTIES CXX_STANDARD 23)
target_include_directories(softloq-unicode PUBLIC include)
target_compile_definitions(softloq-unicode PRIVATE ${SOFTLOQ_UNICODE_PRIVATE_DEFINITIONS})
target_compile_definitions(softloq-unicode PUBLIC ${SOFTLOQ_UNICODE_PUBLIC_DEFINITIONS})